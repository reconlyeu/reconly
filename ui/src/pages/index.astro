---
/**
 * Dashboard page - main entry point
 *
 * Layout:
 * - Header with title and sync status
 * - Quick insights (3 metric cards)
 * - Two-column: Recent Feeds (left) + Recent Digests (right)
 * - Quick actions bar (fixed at bottom)
 */
import BaseLayout from '@layouts/BaseLayout.astro';
import QuickInsights from '@components/dashboard/QuickInsights.vue';
import RecentFeeds from '@components/dashboard/RecentFeeds.vue';
import RecentDigests from '@components/dashboard/RecentDigests.vue';
import SyncStatus from '@components/dashboard/SyncStatus.vue';
import QuickActions from '@components/dashboard/QuickActions.vue';
import { strings } from '@/i18n/en';
---

<BaseLayout title={strings.dashboard.title}>
  <!-- Main content with bottom padding for fixed action bar -->
  <div class="pb-20">
    <!-- Header -->
    <div class="mb-8 flex items-center justify-between">
      <h1 class="text-3xl font-bold tracking-tight text-text-primary">
        {strings.dashboard.title}
      </h1>
      <SyncStatus client:load />
    </div>

    <!-- Content sections -->
    <div class="space-y-8">
      <!-- Quick Insights -->
      <section>
        <QuickInsights client:load />
      </section>

      <!-- Two-column layout: Feeds (left) + Digests (right) -->
      <div class="grid gap-8 lg:grid-cols-2">
        <!-- Recent Feeds -->
        <section>
          <div class="mb-4 flex items-center justify-between">
            <h2 class="text-lg font-semibold text-text-primary">
              Recent Feeds
            </h2>
            <a
              href="/feeds"
              class="text-sm font-medium text-accent-primary transition-colors hover:text-accent-primary-hover"
            >
              View all →
            </a>
          </div>
          <RecentFeeds client:load />
        </section>

        <!-- Recent Digests -->
        <section>
          <div class="mb-4 flex items-center justify-between">
            <h2 class="text-lg font-semibold text-text-primary">
              {strings.dashboard.recentDigests}
            </h2>
            <a
              href="/digests"
              class="text-sm font-medium text-accent-primary transition-colors hover:text-accent-primary-hover"
            >
              View all →
            </a>
          </div>
          <RecentDigests client:load limit={6} />
        </section>
      </div>
    </div>
  </div>

  <!-- Fixed Quick Actions bar at bottom - h-14 matches sidebar footer -->
  <div class="fixed bottom-0 left-64 right-0 z-40 h-14 border-t border-border-subtle bg-bg-base/95 backdrop-blur-sm flex items-center justify-center">
    <QuickActions client:load />
  </div>

  <!-- Decorative gradient orbs -->
  <div class="pointer-events-none fixed inset-0 overflow-hidden -z-10">
    <div class="absolute -left-48 top-0 h-96 w-96 rounded-full bg-accent-primary/5 blur-3xl" />
    <div class="absolute -right-48 bottom-0 h-96 w-96 rounded-full bg-accent-success/5 blur-3xl" />
  </div>
</BaseLayout>
