# Reconly OSS Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Edition & Authentication
# =============================================================================

# Backend edition: oss (default) or enterprise
RECONLY_EDITION=oss

# Frontend edition (for UI builds): oss (default) or enterprise
VITE_EDITION=oss

# Optional password protection for OSS deployments
# When set, users must authenticate before accessing the API/UI
# RECONLY_AUTH_PASSWORD=your-secure-password

# =============================================================================
# LLM Providers
# =============================================================================

# Default provider: ollama, huggingface, openai, anthropic
DEFAULT_PROVIDER=ollama
DEFAULT_MODEL=phi3:mini
DEFAULT_LANGUAGE=en

# Ollama (local LLM - no API key needed)
OLLAMA_BASE_URL=http://localhost:11434

# OpenAI
# OPENAI_API_KEY=your-openai-api-key

# Anthropic Claude
# ANTHROPIC_API_KEY=your-anthropic-api-key

# HuggingFace
# HUGGINGFACE_API_KEY=your-huggingface-token

# =============================================================================
# RSS Fetching
# =============================================================================

# Max age (in days) for articles on first feed run
# Prevents fetching hundreds of old articles when adding a new feed
# Set to 0 to fetch all articles (not recommended for consolidated digests)
RSS_FIRST_RUN_MAX_AGE_DAYS=3

# =============================================================================
# Email (SMTP) - for digest delivery
# =============================================================================

SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-password
SMTP_FROM_EMAIL=noreply@reconly.eu
SMTP_FROM_NAME=Reconly

# =============================================================================
# Database (PostgreSQL required)
# =============================================================================

DATABASE_URL=postgresql://reconly:reconly_dev@localhost:5432/reconly

# =============================================================================
# Security (REQUIRED for production)
# =============================================================================

# Environment: development or production
# In production mode, SECRET_KEY validation is enforced
RECONLY_ENV=development

# Secret key for session signing and token generation
# REQUIRED: Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Minimum 32 characters required in production
SECRET_KEY=

# Content Security Policy (optional - uses sensible defaults)
# CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self' data:; connect-src 'self'

# =============================================================================
# Application
# =============================================================================

DEBUG=false

# CORS origins (comma-separated) - includes Astro dev server port
CORS_ORIGINS=http://localhost:3000,http://localhost:4321,http://localhost:8000

# Rate limiting
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# Scheduler (optional)
# =============================================================================

# Timezone for cron schedules (default: system local timezone)
# Examples: Europe/Berlin, America/New_York, UTC
# SCHEDULER_TIMEZONE=Europe/Berlin

# =============================================================================
# Agent Source (AI Research)
# =============================================================================

# Search provider: "brave" or "searxng"
AGENT_SEARCH_PROVIDER=brave

# Brave Search API (get key from https://brave.com/search/api/)
# Required if AGENT_SEARCH_PROVIDER=brave
# BRAVE_API_KEY=your-brave-api-key

# SearXNG URL (self-hosted search, no API key needed)
# Required if AGENT_SEARCH_PROVIDER=searxng
# SEARXNG_URL=http://localhost:8080

# Max search results per query (default: 10)
# AGENT_MAX_SEARCH_RESULTS=10

# Default max iterations for agent loops (default: 5)
# AGENT_DEFAULT_MAX_ITERATIONS=5
